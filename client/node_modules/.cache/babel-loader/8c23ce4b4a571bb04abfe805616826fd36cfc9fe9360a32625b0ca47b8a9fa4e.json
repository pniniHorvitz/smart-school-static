{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\\\u05E9\\u05D5\\u05E0\\u05D5\\u05EA\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05E7\\u05D8 \\u05D7\\u05E5\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05E7\\u05D8\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport LoginPage from './pages/LoginPage';\nimport TeacherPage from './pages/TeacherPage';\nimport StudentPage from './pages/StudentPage';\nimport AdminPage from './pages/AdminPage';\nimport authService from './services/authService';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem('token'));\n  const handleLogin = async (email, password) => {\n    try {\n      const response = await authService.login(email, password);\n      const {\n        token,\n        user: userData\n      } = response.data;\n      authService.setToken(token);\n      setUser(userData);\n      setIsAuthenticated(true);\n    } catch (error) {\n      alert('שגיאה בהתחברות: ' + error.message);\n    }\n  };\n  const handleLogout = () => {\n    authService.logout();\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(LoginPage, {\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/teacher\",\n        element: isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === 'teacher' ? /*#__PURE__*/_jsxDEV(TeacherPage, {\n          user: user,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/student\",\n        element: isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === 'student' ? /*#__PURE__*/_jsxDEV(StudentPage, {\n          user: user,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin\",\n        element: isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? /*#__PURE__*/_jsxDEV(AdminPage, {\n          user: user,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: isAuthenticated ? (user === null || user === void 0 ? void 0 : user.role) === 'teacher' ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/teacher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this) : (user === null || user === void 0 ? void 0 : user.role) === 'student' ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this) : (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"U7V38fTiD4QTjTS7D+LjzAYosVM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navigate","LoginPage","TeacherPage","StudentPage","AdminPage","authService","jsxDEV","_jsxDEV","App","_s","user","setUser","isAuthenticated","setIsAuthenticated","localStorage","getItem","handleLogin","email","password","response","login","token","userData","data","setToken","error","alert","message","handleLogout","logout","children","path","element","to","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","role","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/שונות/פרויקט חץ/פרויקט/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport LoginPage from './pages/LoginPage';\r\nimport TeacherPage from './pages/TeacherPage';\r\nimport StudentPage from './pages/StudentPage';\r\nimport AdminPage from './pages/AdminPage';\r\nimport authService from './services/authService';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem('token'));\r\n\r\n  const handleLogin = async (email, password) => {\r\n    try {\r\n      const response = await authService.login(email, password);\r\n      const { token, user: userData } = response.data;\r\n      \r\n      authService.setToken(token);\r\n      setUser(userData);\r\n      setIsAuthenticated(true);\r\n    } catch (error) {\r\n      alert('שגיאה בהתחברות: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    authService.logout();\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route\r\n          path=\"/login\"\r\n          element={\r\n            isAuthenticated ? <Navigate to=\"/\" /> : <LoginPage onLogin={handleLogin} />\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/teacher\"\r\n          element={\r\n            isAuthenticated && user?.role === 'teacher' ? (\r\n              <TeacherPage user={user} onLogout={handleLogout} />\r\n            ) : (\r\n              <Navigate to=\"/login\" />\r\n            )\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/student\"\r\n          element={\r\n            isAuthenticated && user?.role === 'student' ? (\r\n              <StudentPage user={user} onLogout={handleLogout} />\r\n            ) : (\r\n              <Navigate to=\"/login\" />\r\n            )\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/admin\"\r\n          element={\r\n            isAuthenticated && user?.role === 'admin' ? (\r\n              <AdminPage user={user} onLogout={handleLogout} />\r\n            ) : (\r\n              <Navigate to=\"/login\" />\r\n            )\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/\"\r\n          element={\r\n            isAuthenticated ? (\r\n              user?.role === 'teacher' ? (\r\n                <Navigate to=\"/teacher\" />\r\n              ) : user?.role === 'student' ? (\r\n                <Navigate to=\"/student\" />\r\n              ) : user?.role === 'admin' ? (\r\n                <Navigate to=\"/admin\" />\r\n              ) : (\r\n                <Navigate to=\"/login\" />\r\n              )\r\n            ) : (\r\n              <Navigate to=\"/login\" />\r\n            )\r\n          }\r\n        />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}